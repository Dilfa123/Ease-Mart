{% extends 'admin/dashboard.html' %}
{% load static %}

{% block title %}Create / Edit Coupon{% endblock %}

{% block content %}
<div class="max-w-xl mx-auto bg-white rounded-2xl shadow-lg p-8">

  <!-- Header -->
  <h2 class="text-3xl font-black text-slate-900 mb-6 text-center">
    Create / Edit Coupon
  </h2>

  <!-- Form -->
 <form method="post" class="space-y-5" autocomplete="on">
  {% csrf_token %}

  <!-- üî¥ FORM LEVEL ERRORS (MODEL clean()) -->
  {% if form.non_field_errors %}
    <div class="bg-red-100 text-red-700 p-3 rounded mb-4">
      {{ form.non_field_errors }}
    </div>
  {% endif %}

  <!-- üîµ DJANGO MESSAGES -->
  {% if messages %}
    {% for message in messages %}
      <div class="p-3 rounded mb-3
           {% if message.tags == 'error' %}bg-red-100 text-red-700
           {% elif message.tags == 'success' %}bg-green-100 text-green-700{% endif %}">
        {{ message }}
      </div>
    {% endfor %}
  {% endif %}

  {% for field in form %}
    <div>
      <label class="block mb-1 font-semibold text-gray-700">
        {{ field.label }}
      </label>

      {{ field }}

      {% if field.errors %}
        <p class="text-red-600 text-sm mt-1">
          {{ field.errors|striptags }}
        </p>
      {% endif %}
    </div>
  {% endfor %}

  <button type="submit"
          class="w-full h-12 bg-primary text-white font-bold
                 rounded-xl hover:bg-primary/90 transition">
    Save Coupon
  </button>
</form>


  <!-- Back Link -->
  <div class="mt-6 text-center">
    <a href="{% url 'admin_coupon_list' %}"
       class="text-sm text-slate-500 hover:text-slate-700">
      ‚Üê Back to coupon list
    </a>
  </div>

</div>
{% endblock %}
