{% extends 'admin/dashboard.html' %}
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Soft Deleted Products</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    body { font-family: 'Inter', sans-serif; }
  </style>
</head>

<body class="bg-gray-100 min-h-screen p-8">

<div class="max-w-6xl mx-auto bg-white rounded-xl shadow">
{% block content%}
  <!-- HEADER -->
  <div class="flex justify-between items-center p-6 border-b">
    <h1 class="text-2xl font-bold text-gray-800">
      Soft Deleted Products
    </h1>

    <a href="{% url 'admin_product_list' %}"
       class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">
      Back to Products
    </a>
  </div>

  <!-- TABLE -->
  <div class="overflow-x-auto">
    <table class="w-full text-sm text-left">
      <thead class="bg-gray-50 border-b">
        <tr>
          <th class="px-6 py-4">Product</th>
          <th class="px-6 py-4">Category</th>
          <th class="px-6 py-4">Price</th>
          <th class="px-6 py-4 text-right">Action</th>
        </tr>
      </thead>

      <tbody>
      {% for p in products %}
        <tr class="border-b hover:bg-gray-50">
          <td class="px-6 py-4 font-medium text-gray-800">
            {{ p.title }}
          </td>

          <td class="px-6 py-4 text-gray-600">
            {{ p.category.name }}
          </td>

          <td class="px-6 py-4 font-semibold">
            â‚¹{{ p.price }}
          </td>

          <td class="px-6 py-4 text-right">
            <form method="post" action="{% url 'restore_products' p.id %}">
              {% csrf_token %}
              <button type="submit"
                class="px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700">
                Restore
              </button>
            </form>
          </td>
        </tr>
      {% empty %}
        <tr>
          <td colspan="4" class="py-10 text-center text-gray-500">
            No soft-deleted products found.
          </td>
        </tr>
      {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
</body>
</html>
