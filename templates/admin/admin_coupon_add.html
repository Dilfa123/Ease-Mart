{% extends 'admin/dashboard.html' %}
{% load static %}

{% block title %}Create / Edit Coupon{% endblock %}

{% block content %}
<div class="max-w-xl mx-auto bg-white rounded-2xl shadow-lg p-8">

  <!-- Header -->
  <h2 class="text-3xl font-black text-slate-900 mb-6 text-center">
    Create / Edit Coupon
  </h2>

  <!-- Form -->
  <form method="post" class="space-y-5">
    {% csrf_token %}

    <!-- üî¥ NON-FIELD ERRORS (model.clean errors show here) -->
    {% if form.non_field_errors %}
      <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4">
        {% for error in form.non_field_errors %}
          <p>{{ error }}</p>
        {% endfor %}
      </div>
    {% endif %}

    {% for field in form %}
      <div>
        <label class="block mb-1 font-semibold text-gray-700">
          {{ field.label }}
        </label>

        {{ field }}

        <!-- üî¥ FIELD ERRORS -->
        {% if field.errors %}
          <p class="text-red-600 text-sm mt-1">
            {{ field.errors|striptags }}
          </p>
        {% endif %}
      </div>
    {% endfor %}

    <!-- Submit Button -->
    <button type="submit"
            class="w-full h-12 bg-primary text-white font-bold
                   rounded-xl hover:bg-primary/90 transition">
      Save Coupon
    </button>
  </form>

  <!-- Back Link -->
  <div class="mt-6 text-center">
    <a href="{% url 'admin_coupon_list' %}"
       class="text-sm text-slate-500 hover:text-slate-700">
      ‚Üê Back to coupon list
    </a>
  </div>

</div>
{% endblock %}
